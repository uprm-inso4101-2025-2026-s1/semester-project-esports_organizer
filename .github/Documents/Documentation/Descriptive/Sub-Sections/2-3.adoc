== 2.3 Implementation

[.yellow-background]#The implementation stage translates the requirements described in Section 2.2 into a working system. While requirements define *what* the platform must achieve, the implementation details *how* these goals were realized.#

[.green-background]#For Milestone 2, this section has been expanded to include current progress on the Profiles module, showing concrete examples of backend and frontend integration that transform previous design concepts into a functional system.#  

The **software architecture** captures the big picture of the system:
* Main modules include authentication, user profiles, tournament
  management, match reporting, and community management.
* These modules communicate through well defined APIs and shared
  data stored in Firestore.
* [.green-background]#A backend service (Node.js/Express) now handles the Profiles module, which interacts with Firestore and the React client through REST endpoints.#
* [.green-background]#The local environment has been successfully tested and launched, confirming connectivity between modules and databases.#
  [.green-background]#The `/profiles` endpoint was used for testing profile retrieval functionality in the local development environment.#  

The **software design** explains how each component is realized:
* **Authentication:** Implemented with Firebase Authentication and
  OAuth2 providers such as Google, Discord, and Twitch.
* **User profiles:** Stored in Firestore, including usernames, emails,
  stats, teams, and communities.
* **Tournament management:** Collections store brackets, matches, and
  schedules, enforcing limits on participants like defined in
  Section 2.2.3 Domain Requirements.
* **Match reporting:** Organizers and players update results, which
  automatically update user rankings.
* **Communities and teams:** Users can create or join them, ensuring
  inclusivity and adaptability.
* [.green-background]#**Profiles module (Milestone 2 addition):** Integrates CRUD operations and privacy settings.#
  [.green-background]#Implemented functions such as `getParticipatedTournaments()` within the Profiles module retrieve user data directly from Firestore, ensuring up-to-date synchronization between the backend and the database.#  

Diagrams and screen mockups complement the text:
* Architecture diagrams highlight module interactions.
* Sequence diagrams show workflows such as user login and event
  creation.
* [.green-background]#A UML or architecture diagram now illustrates how the Profiles module interacts with the Badges and PrivacyControls components (see `profiles_architecture.svg`).#
* Figma mockups illustrate how the interface supports usage scenarios.

=== 2.3.1 Selected Fragments of the Implementation

[.yellow-background]#Selected fragments are only included when they clarify explanations and complement the documentation.#  

[.green-background]#For Milestone 2, the following code excerpt from the Profiles module demonstrates Firestore integration. This fragment shows how user-related data is retrieved and verified for debugging purposes, confirming a functional connection between the backend and the database.#  

[source,js]
----
import { collection, getDocs } from "firebase/firestore";
import { db } from '../lib/firebase.js';

// All console logs are for debugging purposes to understand the Firestore data and see if we are fetching it correctly.
// The debugging would be seen in the browser console.
async function getParticipatedTournaments() {
    const querySnapshot = await getDocs(collection(db, "User"));
    
    console.log("=== FIRESTORE DATA STRUCTURE ===");
    console.log("Total documents:", querySnapshot.size);
    
    querySnapshot.forEach((doc) => {
      console.log("Document ID:", doc.id);
      console.log("Document data:", doc.data());
      console.log("All fields in this document:", Object.keys(doc.data()));
      console.log("---");
    });
    
    const User = querySnapshot.docs.map((doc) => ({
      id: doc.id,
      ...doc.data()
    }));
    
    return User;
}

export default getParticipatedTournaments;
----

[.green-background]#**Explanation:**  
This function retrieves all documents from the “User” collection in Firestore and displays key information through console logs. It verifies that Firestore connectivity and data structure are working correctly in the current environment.  
This implementation satisfies the system requirement that *“the system must provide a way to retrieve stored user data from Firestore.”*#

Best practices followed in this documentation:
* **No screenshots** of code — only properly formatted snippets.
* **Scalable images** (SVG, PDF) for diagrams and mockups instead of
  raster images (JPEG, PNG).
* **Fragments included only when they clarify**, never for their own
  sake.
